# מדריך צעדים - העברת חנות מקוויק שופ הישן לחדש

## 🎯 למה ארגניה (אין וריאציות)

**הפתרון:** CSV בלבד - פשוט ומהיר!

---

## 📋 צעדים להעברה

### שלב 1: הכנות

#### 1.1 בדוק שיש לך את הקובץ CSV
- ייצא CSV מהמערכת הישנה
- שמור את הקובץ (למשל: `products_export_argania_2025-12-27_19-50-28.csv`)

#### 1.2 הגדר משתני סביבה

הוסף ל-`.env`:

```env
# Cloudinary (חובה - להעברת תמונות)
CLOUDINARY_URL=cloudinary://...
# או:
CLOUDINARY_CLOUD_NAME=...
CLOUDINARY_API_KEY=...
CLOUDINARY_API_SECRET=...

# S3 (אופציונלי - לניסיון אוטומטי למצוא תמונות)
OLD_S3_BASE_URL=https://s3.amazonaws.com/bucket-name
# או:
OLD_S3_BUCKET=bucket-name
OLD_S3_REGION=us-east-1
```

**איך למצוא את ה-URL של S3?**
- בדוק את התמונות באתר הישן
- חפש URL כמו: `https://s3.amazonaws.com/bucket-name/...`
- או בדוק את ההגדרות של המערכת הישנה

---

### שלב 2: ייבוא CSV

#### דרך 1: דרך הדשבורד (מומלץ)

1. התחבר למערכת החדשה
2. לך ל-**Products** → **Import**
3. בחר את קובץ ה-CSV
4. **💡 מומלץ לבדיקה:** סמן "מצב בדיקה" והגבל ל-3 מוצרים
5. לחץ על **Import**
6. ✅ סיימת!

**💡 טיפ:** השתמש ב"מצב בדיקה" כדי לבדוק שהכל עובד לפני שייבוא את כל המוצרים!

#### דרך 2: דרך API

```bash
curl -X POST https://your-domain.com/api/products/import \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "file=@products_export_argania_2025-12-27_19-50-28.csv"
```

---

### שלב 3: בדיקה ואימות

#### 3.1 בדוק שהמוצרים נוצרו
- לך ל-**Products** בדשבורד
- בדוק שהמוצרים מופיעים
- בדוק שהשמות נכונים

#### 3.2 בדוק שהמחירים נכונים
- פתח מוצר אחד
- בדוק שהמחיר ב-**Variants** נכון
- בדוק שהמחיר מבצע נכון (אם יש)

#### 3.3 בדוק שהמלאי נכון
- בדוק שהמלאי ב-**Variants** נכון
- בדוק שההגדרות של "התעלם ממלאי" נכונות

#### 3.4 בדוק שהתמונות עלו
- בדוק שהתמונות מופיעות במוצרים
- לך ל-**Media** → בדוק שהתמונות בספריית המדיה
- בדוק שהתמונות נפתחות נכון

#### 3.5 בדוק קטגוריות ותגים
- בדוק שהקטגוריות נוצרו ב-**Collections**
- בדוק שהמוצרים מקושרים לקטגוריות הנכונות
- בדוק שהתגים נוצרו ב-**Tags**
- בדוק שהמוצרים מקושרים לתגים הנכונים

---

## ⚠️ בעיות אפשריות ופתרונות

### בעיה: תמונות לא עלו

**סיבות אפשריות:**
1. URL של S3 לא נכון
2. תמונות לא קיימות ב-S3
3. בעיית הרשאות

**פתרון:**
1. בדוק את ה-URL של S3 ב-`.env`
2. נסה להוריד תמונה ידנית מ-S3
3. אם לא עובד, אפשר להעלות תמונות ידנית אחר כך

**הערה:** המוצרים ייווצרו גם בלי תמונות (לא ייכשל)

---

### בעיה: קטגוריות לא נוצרו

**סיבות אפשריות:**
1. פורמט לא נכון ב-CSV
2. שם קטגוריה ריק

**פתרון:**
1. בדוק שהקטגוריות ב-CSV מופרדות בפסיק
2. בדוק שאין רווחים מיותרים
3. אפשר ליצור קטגוריות ידנית אחר כך

---

### בעיה: שגיאות בייבוא

**פתרון:**
1. בדוק את ה-**errorDetails** בתגובה
2. תיקן את השורות הבעייתיות ב-CSV
3. ייבא שוב

---

## ✅ רשימת בדיקה

לפני ייבוא:
- [ ] יש קובץ CSV מהמערכת הישנה
- [ ] Cloudinary מוגדר ב-`.env`
- [ ] S3 מוגדר ב-`.env` (אופציונלי)

אחרי ייבוא:
- [ ] כל המוצרים נוצרו
- [ ] המחירים נכונים
- [ ] המלאי נכון
- [ ] התמונות עלו
- [ ] הקטגוריות נוצרו
- [ ] התגים נוצרו

---

## 🚀 מוכן להתחיל?

1. **הכן את הקובץ CSV** מהמערכת הישנה
2. **הגדר את משתני הסביבה** (Cloudinary + S3)
3. **ייבא דרך הדשבורד**
4. **בדוק שהכל עובד**

**זה הכל!** 🎉

---

## 📞 עזרה נוספת

אם יש בעיות:
1. בדוק את ה-logs של השרת
2. בדוק את ה-**errorDetails** בתגובה
3. בדוק את המדריכים:
   - `CSV_IMPORT_GUIDE.md` - מדריך מפורט
   - `CSV_FIELD_MAPPING.md` - מיפוי שדות
   - `IMAGE_MIGRATION_DETAILS.md` - פרטי תמונות

